
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GhostBox - Vos colis, votre vie priv√©e</title>
    <style>
        /* --- M√äME DESIGN QUE PRECEDEMMENT --- */
        :root { var(--primary: #2c3e50; var(--accent: #e74c3c; var(--light: #ecf0f1; }
        body { font-family: sans-serif; margin: 0; background-color: #ecf0f1; color: #333; }
        header { background-color: #2c3e50; color: white; padding: 20px; text-align: center; }
        .container { max-width: 800px; margin: 0 auto; padding: 20px; }
        .form-section { background: white; padding: 30px; border-radius: 10px; margin-top: 20px; }
        input { width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box;}
        button { background-color: #e74c3c; color: white; border: none; padding: 12px; width: 100%; cursor: pointer; font-size: 16px; border-radius: 5px;}
        button:hover { background-color: #c0392b; }
        h2 { text-align: center; color: #2c3e50; }
    </style>
</head>
<body>

<header>
    <h1>üì¶ GhostBox</h1>
    <p>Service de r√©ception anonyme</p>
</header>

<div class="container">
    <div class="form-section">
        <h2>Cr√©er un compte s√©curis√©</h2>
        <p>Vos donn√©es seront envoy√©es directement dans votre base de donn√©es Firebase.</p>
        
        <div id="signupForm">
            <label>Votre Email</label>
            <input type="email" id="emailInput" placeholder="ex: pseudo@ghostbox.com" required>
            
            <label>Votre vraie adresse postale</label>
            <input type="text" id="addressInput" placeholder="Adresse compl√®te" required>
            
            <button id="submitBtn">S'inscrire maintenant</button>
        </div>
    </div>
</div>

<script type="module">
  // Importation des outils n√©cessaires depuis Google
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

 // Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import { getAnalytics } from "firebase/analytics";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyC95sX3qXF5JphZpLpnBxZgkLyBNSKBiU8",
  authDomain: "mypseudomail-9d093.firebaseapp.com",
  projectId: "mypseudomail-9d093",
  storageBucket: "mypseudomail-9d093.firebasestorage.app",
  messagingSenderId: "189746859638",
  appId: "1:189746859638:web:abc519c2a17116a32b9957",
  measurementId: "G-8QFN8HSTH8"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);
  const firebaseConfig = {
    apiKey: "AIzaSyD-Exemple-De-Cle-A-Remplacer",
    authDomain: "ton-projet.firebaseapp.com",
    projectId: "ton-projet",
    storageBucket: "ton-projet.appspot.com",
    messagingSenderId: "123456789",
    appId: "1:123456:web:abcdef"
  };
  // ------------------------------------------------

  // Initialisation de la base de donn√©es
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // Action quand on clique sur le bouton
  document.getElementById('submitBtn').addEventListener('click', async () => {
      
      const email = document.getElementById('emailInput').value;
      const adresse = document.getElementById('addressInput').value;

      if(email && adresse) {
          try {
              // On √©crit dans la collection "utilisateurs"
              await addDoc(collection(db, "utilisateurs"), {
                  email: email,
                  adresse_reelle: adresse,
                  date_inscription: new Date()
              });
              
              alert("SUCC√àS ! ‚úÖ\nL'adresse a √©t√© enregistr√©e dans ta base de donn√©es Firebase !");
              // On vide les champs
              document.getElementById('emailInput').value = "";
              document.getElementById('addressInput').value = "";
              
          } catch (e) {
              console.error("Erreur : ", e);
              alert("Erreur technique : Regarde la console (F12) pour les d√©tails. As-tu bien mis tes cl√©s ?");
          }
      } else {
          alert("Merci de remplir tous les champs.");
      }
  });
</script>

</body>
</html>
